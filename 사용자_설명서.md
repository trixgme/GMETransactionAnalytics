# 📊 거래 내역 분석 대시보드 - 사용자 설명서

## 목차
1. [시스템 요구사항](#1-시스템-요구사항)
2. [최초 설치 방법](#2-최초-설치-방법)
3. [대시보드 실행 방법](#3-대시보드-실행-방법)
4. [대시보드 사용법](#4-대시보드-사용법)
5. [문제 해결](#5-문제-해결)

---

## 1. 시스템 요구사항

### 필수 설치
- **Python 3.8 이상**
  - 다운로드: https://www.python.org/downloads/
  - ⚠️ Windows 설치 시 **"Add Python to PATH"** 반드시 체크!

### 지원 운영체제
- ✅ macOS 10.15 이상
- ✅ Windows 10/11

### 지원 데이터 파일
- Excel 파일 (.xlsx)
- CSV 파일 (.csv)

---

## 2. 최초 설치 방법

> ⚠️ **최초 1회만 실행**하면 됩니다.

### Mac 사용자

1. **setup_mac.command** 파일을 더블클릭합니다.

2. "확인되지 않은 개발자" 경고가 나오면:
   - `시스템 환경설정` → `보안 및 개인 정보 보호` → `일반`
   - "확인 없이 열기" 클릭

3. 터미널 창이 열리고 자동 설치가 진행됩니다.
   ```
   [1/4] Python 확인 중...
   [2/4] 가상환경 생성 중...
   [3/4] 가상환경 활성화 중...
   [4/4] 필요한 패키지 설치 중...

   설치 완료!
   ```

4. "설치 완료!" 메시지가 나오면 엔터를 눌러 종료합니다.

---

### Windows 사용자

1. **setup_windows.bat** 파일을 더블클릭합니다.

2. "Windows의 PC 보호" 경고가 나오면:
   - `추가 정보` 클릭 → `실행` 클릭

3. 명령 프롬프트 창이 열리고 자동 설치가 진행됩니다.
   ```
   [1/4] Python 확인 중...
   [2/4] 가상환경 생성 중...
   [3/4] 가상환경 활성화 중...
   [4/4] 필요한 패키지 설치 중...

   설치 완료!
   ```

4. "설치 완료!" 메시지가 나오면 아무 키나 눌러 종료합니다.

---

## 3. 대시보드 실행 방법

### Mac 사용자

1. **run_dashboard.command** 파일을 더블클릭합니다.

2. 터미널 창이 열리고 대시보드가 시작됩니다.
   ```
   [1/3] 가상환경 활성화 중...
   [2/3] 패키지 확인 중...
   [3/3] 대시보드 실행 중...

   브라우저에서 자동으로 열립니다
   주소: http://localhost:8501
   ```

3. 웹 브라우저가 자동으로 열리며 대시보드가 표시됩니다.

4. **종료하려면**: 터미널 창을 닫거나 `Ctrl + C`를 누릅니다.

---

### Windows 사용자

1. **run_dashboard.bat** 파일을 더블클릭합니다.

2. 명령 프롬프트 창이 열리고 대시보드가 시작됩니다.
   ```
   [1/3] 가상환경 활성화 중...
   [2/3] 패키지 확인 중...
   [3/3] 대시보드 실행 중...

   브라우저에서 자동으로 열립니다
   주소: http://localhost:8501
   ```

3. 웹 브라우저가 자동으로 열리며 대시보드가 표시됩니다.

4. **종료하려면**: 명령 프롬프트 창을 닫거나 `Ctrl + C`를 누릅니다.

---

## 4. 대시보드 사용법

### 4.1 데이터 파일 업로드

1. 대시보드 상단의 **"Excel(.xlsx) 또는 CSV 파일을 업로드하세요"** 영역을 클릭합니다.

2. 분석할 파일을 선택합니다.
   - 여러 파일 동시 선택 가능 (Ctrl/Cmd + 클릭)
   - 여러 파일 업로드 시 자동으로 데이터가 병합됩니다.

3. 업로드가 완료되면 자동으로 대시보드가 표시됩니다.

### 4.2 필터 사용하기 (왼쪽 사이드바)

| 필터 | 설명 |
|------|------|
| 📂 소스 파일 | 분석할 파일 선택 (여러 파일 업로드 시) |
| 🌍 국가 | 분석할 국가 선택 (Top 10 / 전체 / 직접 선택) |
| 💳 서비스 타입 | 분석할 서비스 유형 선택 |
| 📅 거래 기간 | 분석할 월 선택 |

**빠른 선택 버튼:**
- `Top 10`: 거래량 상위 10개 국가만 선택
- `전체`: 모든 항목 선택
- `초기화`: 선택 해제

### 4.3 탭별 기능

#### 📈 Overview (개요)
- **KPI 카드**: 총 거래금액, 거래건수, 고객수, 성장률 등
- **Top 5 순위표**: 국가별/서비스별 순위
- **트렌드 차트**: 최근 거래 추이
- **전월 대비 비교**: 성장률 분석
- **분포 분석**: 국가 Tier 분류

#### 📊 상세분석
- **서비스별 국가 현황**: 각 서비스의 국가별 거래금액
- **국가별 트리맵**: Top 9 국가의 서비스 구성
- **국가별 서비스 분포**: 스택 바 차트

#### 📉 트렌드
- **월별 거래 추이**: 금액 및 건수 변화
- **국가별 트렌드**: Top 9 국가의 월별 추이
- **서비스별 트렌드**: 서비스 유형별 변화
- **코호트 분석**: 가입월별 거래 패턴

#### 📥 데이터
- **데이터 테이블**: 필터링된 데이터 조회
- **다운로드**: CSV 또는 Excel 형식으로 내보내기

---

## 5. 문제 해결

### ❌ "Python이 설치되어 있지 않습니다"

**해결방법:**
1. https://www.python.org/downloads/ 접속
2. 최신 버전 다운로드 및 설치
3. ⚠️ Windows: 설치 시 **"Add Python to PATH"** 반드시 체크!
4. 설치 완료 후 setup 파일 다시 실행

---

### ❌ "가상환경이 없습니다"

**해결방법:**
1. setup 파일을 먼저 실행하세요.
   - Mac: `setup_mac.command`
   - Windows: `setup_windows.bat`

---

### ❌ 브라우저가 자동으로 안 열림

**해결방법:**
1. 웹 브라우저를 직접 열고
2. 주소창에 입력: `http://localhost:8501`

---

### ❌ "확인되지 않은 개발자" 경고 (Mac)

**해결방법:**
1. `시스템 환경설정` → `보안 및 개인 정보 보호` 열기
2. `일반` 탭에서 "확인 없이 열기" 클릭
3. 또는 파일을 우클릭 → `열기` 선택

---

### ❌ "This sheet is too large" 오류 (Excel 다운로드)

**원인:** 데이터가 Excel 최대 행 수(1,048,576행)를 초과

**해결방법:**
- CSV 다운로드를 이용하세요 (행 수 제한 없음)

---

### ❌ 포트 충돌 오류

**원인:** 8501 포트가 이미 사용 중

**해결방법:**
1. 기존 대시보드 창을 모두 닫기
2. 다시 실행

---

## 📞 지원

문제가 지속되면 다음 정보와 함께 문의하세요:
- 운영체제 (Mac/Windows 버전)
- Python 버전 (`python --version` 결과)
- 오류 메시지 스크린샷

---

*마지막 업데이트: 2025년 1월*
